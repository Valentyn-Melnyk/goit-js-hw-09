{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const registerForm = document.querySelector('.feedback-form');\nconst localStorageKey = 'feedback-form-state';\n\nconst localStorageKeyValue = localStorage.getItem(localStorageKey);\n\n// form.elements.message.value = localStorage.getItem(localStorageKey) ?? '';\nlet storageValueObject = { email: '', textarea: '' };\n\nif (localStorageKeyValue !== null) {\n  try {\n    storageValueObject = JSON.parse(localStorageKeyValue);\n    registerForm.elements.email.value = storageValueObject.email;\n    registerForm.elements.message.value = storageValueObject.textarea;\n  } catch (error) {\n    registerForm.elements.email.value = '';\n    registerForm.elements.message.value = '';\n  }\n}\n\nregisterForm.addEventListener('input', evt => {\n  if (evt.target.type === 'email') {\n    storageValueObject.email = evt.target.value.trim();\n  } else {\n    storageValueObject.textarea = evt.target.value.trim();\n  }\n  localStorage.setItem(localStorageKey, JSON.stringify(storageValueObject));\n});\n\nregisterForm.addEventListener('submit', handleSubmit);\n\nfunction handleSubmit(event) {\n  event.preventDefault();\n  const form = event.target;\n  console.log(form);\n\n  const formEmail = form.elements.email.value.trim();\n  const formTextarea = form.elements.message.value.trim();\n  if (formEmail === '' || formTextarea === '') {\n    alert('All form fields must be filled in');\n  } else {\n    console.log(`Email:${formEmail}, Textarea:${formTextarea}`);\n    const formRezultObj = {\n      email: formEmail.trim(),\n      textarea: formTextarea.trim(),\n    };\n    localStorage.setItem(localStorageKey, JSON.stringify(formRezultObj));\n    console.log(formRezultObj);\n    localStorage.removeItem(localStorageKey);\n    storageValueObject = { email: '', textarea: '' };\n    form.reset();\n    return formRezultObj;\n  }\n}\n"],"names":["registerForm","localStorageKey","localStorageKeyValue","storageValueObject","evt","handleSubmit","event","form","formEmail","formTextarea","formRezultObj"],"mappings":"oCAAA,MAAMA,EAAe,SAAS,cAAc,gBAAgB,EACtDC,EAAkB,sBAElBC,EAAuB,aAAa,QAAQD,CAAe,EAGjE,IAAIE,EAAqB,CAAE,MAAO,GAAI,SAAU,EAAE,EAElD,GAAID,IAAyB,KAC3B,GAAI,CACFC,EAAqB,KAAK,MAAMD,CAAoB,EACpDF,EAAa,SAAS,MAAM,MAAQG,EAAmB,MACvDH,EAAa,SAAS,QAAQ,MAAQG,EAAmB,QAC1D,MAAe,CACdH,EAAa,SAAS,MAAM,MAAQ,GACpCA,EAAa,SAAS,QAAQ,MAAQ,EACvC,CAGHA,EAAa,iBAAiB,QAASI,GAAO,CACxCA,EAAI,OAAO,OAAS,QACtBD,EAAmB,MAAQC,EAAI,OAAO,MAAM,KAAI,EAEhDD,EAAmB,SAAWC,EAAI,OAAO,MAAM,KAAI,EAErD,aAAa,QAAQH,EAAiB,KAAK,UAAUE,CAAkB,CAAC,CAC1E,CAAC,EAEDH,EAAa,iBAAiB,SAAUK,CAAY,EAEpD,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EACpB,MAAMC,EAAOD,EAAM,OACnB,QAAQ,IAAIC,CAAI,EAEhB,MAAMC,EAAYD,EAAK,SAAS,MAAM,MAAM,OACtCE,EAAeF,EAAK,SAAS,QAAQ,MAAM,OACjD,GAAIC,IAAc,IAAMC,IAAiB,GACvC,MAAM,mCAAmC,MACpC,CACL,QAAQ,IAAI,SAASD,CAAS,cAAcC,CAAY,EAAE,EAC1D,MAAMC,EAAgB,CACpB,MAAOF,EAAU,KAAM,EACvB,SAAUC,EAAa,KAAM,CACnC,EACI,oBAAa,QAAQR,EAAiB,KAAK,UAAUS,CAAa,CAAC,EACnE,QAAQ,IAAIA,CAAa,EACzB,aAAa,WAAWT,CAAe,EACvCE,EAAqB,CAAE,MAAO,GAAI,SAAU,EAAE,EAC9CI,EAAK,MAAK,EACHG,CACR,CACH"}